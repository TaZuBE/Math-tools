var E=Object.defineProperty;var L=(c,t,e)=>t in c?E(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var l=(c,t,e)=>(L(c,typeof t!="symbol"?t+"":t,e),e);import{f as y,m as k,q as R,s as W,o as _,c as b,b as O,u as z,F,_ as g,e as N}from"./index-Dp294IQI.js";class r{constructor(t=0,e=0){l(this,"x",0);l(this,"y",0);t instanceof r&&(e=t.y,t=t.x),this.x=t,this.y=e}distanceToOrigin(){return Math.sqrt(this.x*this.x+this.y*this.y)}distanceTo(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))}add(t){return new r(this.x+t.x,this.y+t.y)}sub(t){return new r(this.x-t.x,this.y-t.y)}mul(t){return new r(this.x*t,this.y*t)}div(t){return new r(this.x/t,this.y/t)}rotate(t){return new r(this.x*Math.cos(t)+this.y*Math.sin(t),this.x*Math.sin(t)-this.y*Math.cos(t))}direction(){return this.div(this.distanceToOrigin())}}const S=y({__name:"coordinate",setup(c){const t=k(null);let e=null,s=new r,h=80;function p(n,o,i){return n>=o&&n<=i}function v(){if(!t.value)return;const n=t.value,o=window.devicePixelRatio;n.width=n.clientWidth*o,n.height=n.clientHeight*o,e=n.getContext("2d"),e.scale(o,o),console.log(n.clientWidth,n.width)}function u(){if(!e)return;e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath();let n=h;const o=20,i=100;for(;!p(n,o,i);)n<o?n*=2:n/=2;for(let a=s.x%n;a<e.canvas.width;a+=n)e.moveTo(a,0),e.lineTo(a,e.canvas.height);for(let a=s.y%n;a<e.canvas.height;a+=n)e.moveTo(0,a),e.lineTo(e.canvas.width,a);e.strokeStyle="#eee",e.lineWidth=1,e.stroke(),e.beginPath(),e.moveTo(0,s.y),e.lineTo(e.canvas.width,s.y),e.moveTo(s.x,0),e.lineTo(s.x,e.canvas.height),e.strokeStyle="#000",e.lineWidth=1,e.stroke(),e.closePath(),T(n)}function T(n){if(!e)return;const o=n*5;e.beginPath();for(let i=s.x%o;i<e.canvas.width;i+=o)Math.abs(i-s.x)<=1e-5||(e.clearRect(i-10,s.y+15,10,8),e.font="13px Arial",e.fillText(Number(((i-s.x)/h).toFixed(5))+"",i-5,s.y+15));for(let i=s.y%o;i<e.canvas.height;i+=o)Math.abs(i-s.y)<=1e-5||(e.clearRect(s.x+2,i-5,10,10),e.font="13px Arial",e.fillText(Number(((s.y-i)/h).toFixed(5))+"",s.x+2,i));e.closePath()}function M(){v(),u()}function f(n){const o=new r(s),i=new r(n.offsetX,n.offsetY);function a(d){s=o.add(new r(d.offsetX,d.offsetY).sub(i)),u()}function m(d){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",m)}window.addEventListener("mousemove",a),window.addEventListener("mouseup",m)}function x(n){const o=new r(n.offsetX,n.offsetY),i=o.sub(s).div(h);n.deltaY>0?h/=1.1:h*=1.1,s=o.sub(i.mul(h)),u()}const w=new ResizeObserver(M);return R(()=>{e=t.value.getContext("2d"),v(),Object.assign(s,{x:e.canvas.clientWidth/2,y:e.canvas.clientHeight/2}),u(),w.observe(t.value),t.value.addEventListener("mousedown",f),t.value.addEventListener("wheel",x)}),W(()=>{w.disconnect(),t.value.removeEventListener("mousedown",f),t.value.removeEventListener("wheel",x)}),(n,o)=>(_(),b(F,null,[O("canvas",{ref_key:"canvas",ref:t},null,512),z(n.$slots,"default",{},void 0,!0)],64))}}),Y=g(S,[["__scopeId","data-v-211a67ca"]]),q={class:"view"},B=y({__name:"bezier",setup(c){return(t,e)=>(_(),b("div",q,[N(Y)]))}}),X=g(B,[["__scopeId","data-v-e3899759"]]);export{X as default};
